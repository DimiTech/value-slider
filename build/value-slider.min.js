!function(a){"use strict";function b(a,b){if(void 0!==b[0]&&"DIV"===b[0].tagName)a.parentElement=b[0];else{if("DIV"!==b.tagName)throw new Error('Please supply a <div> element in which you wish to load the "ValueSlider" widget into.');a.parentElement=b}}function c(a){a.widget=document.createElement("div"),a.widget.className="value-slider-body",a.parentElement.appendChild(a.widget),a.hide();var b=document.createElement("div");b.className="slider-value-right",a.widget.appendChild(b);var c=document.createElement("div");c.className="slider-handle-right",a.widget.children[0].appendChild(c)}function d(a,b,c,d){if(!(c>b))throw new Error("Slider's minValue must be smaller than its maxValue.");if(a.minValue=b,a.maxValue=c,(a.maxValue-a.minValue)%d!==0)throw new Error("Slider's range (maxValue - minValue) must be divisible by step value without a remainder.");a.step=d}function e(a){var b=a.widget.children[0];0!==a.step&&f(a);var c=~~(100*(a.rightValue-a.minValue)/(a.maxValue-a.minValue));b.style.width=c+"%",console.log(a.rightValue)}function f(a){var b=a.rightValue%a.step;b>=a.step/2?a.rightValue=a.rightValue-b+a.step:a.rightValue=a.rightValue-b}function g(a,b,c,d){return b>a?a=b:a>c&&(a=c),d&&(a=~~a),a}function h(a){i(a),k(a)}function i(a){var b=a.widget.getElementsByClassName("slider-handle-right")[0];a.rightHandleMouseDown=!1,b.onmousedown=function(b){b.preventDefault(),a.rightHandleMouseDown===!1&&(a.rightHandleMouseDown=!0),document.addEventListener("mouseup",function(b){a.rightHandleMouseDown&&(a.rightHandleMouseDown=!1)}),document.addEventListener("mousemove",function(b){if(a.rightHandleMouseDown&&1===b.which){var c=j(a,b.clientX);c=g(c,0,1,!1),a.setRightPercent(c)}})}}function j(a,b){var c=(b-a.widget.offsetLeft)/a.widget.clientWidth+.005;return c}function k(a){function b(a){var b=document.createEvent("MouseEvents");b.initEvent("mousedown",!0,!0),a.dispatchEvent(b)}var c=a.widget.getElementsByClassName("slider-handle-right")[0];a.widget.addEventListener("mousedown",function(d){if(a.rightHandleMouseDown===!1){var e=j(a,d.clientX);a.setRightPercent(e),b(c)}})}var l=function(a){b(this,a.div),c(this),d(this,a.minValue||0,a.maxValue||100,a.step||1),this.setValue(a.value||0),h(this),this.show()};l.prototype.setPercent=function(a){this.setRightPercent(a,"setPercent()")},l.prototype.setRightPercent=function(a,b){if("number"!=typeof a)throw new Error((b||"setRightPercent()")+" expects a floating point number parameter! (a value from 0.0 to 1.0)");var c=~~(a*(this.maxValue-this.minValue)+this.minValue);this.rightValue=g(c,0,this.maxValue,!0),e(this)},l.prototype.setValue=function(a){this.setRightValue(a,"setValue()")},l.prototype.setRightValue=function(a,b){if("number"!=typeof a)throw new Error((b||"setRightValue()")+" expects a number parameter! (a value from "+this.minValue+" to "+this.maxValue+")");this.rightValue=g(a,this.minValue,this.maxValue,!0),e(this)},l.prototype.getValue=function(){return this.getRightValue()},l.prototype.getRightValue=function(){return this.rightValue},l.prototype.hide=function(){this.widget.style.visibility="hidden"},l.prototype.show=function(){this.widget.style.visibility="visible"},l.prototype.remove=function(){this.display("none")},l.prototype.display=function(a){var b=a||"block";this.widget.style.display=b},a.ValueSlider=l}(window);