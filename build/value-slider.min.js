!function(a){"use strict";function b(a,b){var c;if(void 0!==b[0]&&"INPUT"===b[0].tagName)c=b[0];else{if("INPUT"!==b.tagName)throw new Error('Please supply an <input> element in which you wish to load the "ValueSlider" widget into.');c=b}var d=document.createElement("div");d.className="value-slider",c.parentNode.insertBefore(d,c),d.appendChild(c),c.style.display="none",a.parentDiv=d}function c(a){a.widget=document.createElement("div"),a.widget.className="value-slider-body",a.parentDiv.appendChild(a.widget),a.hide();var b=document.createElement("div");b.className="slider-value-right",a.widget.appendChild(b);var c=document.createElement("div");c.className="slider-handle-right",a.widget.children[0].appendChild(c)}function d(a,b,c,d){if(!(c>b))throw new Error("Slider's minValue must be smaller than its maxValue.");if(a.minValue=b,a.maxValue=c,(a.maxValue-a.minValue)%d!==0)throw new Error("Slider's range (maxValue - minValue) must be divisible by step value without a remainder.");a.step=d}function e(a){var b=a.widget.children[0],c=~~(100*(a.rightValue-a.minValue)/(a.maxValue-a.minValue));b.style.width=c+"%"}function f(a){var b=a.rightValue%a.step;b>=a.step/2?a.rightValue=a.rightValue-b+a.step:a.rightValue=a.rightValue-b}function g(a){a.parentDiv.querySelector("input").value=a.rightValue,a.parentDiv.querySelector("input").defaultValue=a.rightValue}function h(a,b,c,d){return b>a?a=b:a>c&&(a=c),d&&(a=~~a),a}function i(a){j(a),l(a)}function j(a){var b=a.widget.getElementsByClassName("slider-handle-right")[0];a.rightHandleMouseDown=!1,b.onmousedown=function(b){b.preventDefault(),a.rightHandleMouseDown===!1&&(a.rightHandleMouseDown=!0),document.addEventListener("mouseup",function(b){a.rightHandleMouseDown&&(a.rightHandleMouseDown=!1)}),document.addEventListener("mousemove",function(b){if(a.rightHandleMouseDown&&1===b.which){var c=k(a,b.clientX);c=h(c,0,1,!1),a.setRightPercent(c)}})}}function k(a,b){var c=(b-a.widget.offsetLeft)/a.widget.clientWidth+.005;return c}function l(a){function b(a){var b=document.createEvent("MouseEvents");b.initEvent("mousedown",!0,!0),a.dispatchEvent(b)}var c=a.widget.getElementsByClassName("slider-handle-right")[0];a.widget.addEventListener("mousedown",function(d){if(a.rightHandleMouseDown===!1){var e=k(a,d.clientX);a.setRightPercent(e),b(c)}})}var m=function(a){b(this,a.element),c(this),d(this,a.minValue||0,a.maxValue||100,a.step||1),this.setValue(a.value||parseInt(this.parentDiv.getElementsByTagName("input")[0].defaultValue)||0),i(this),this.show()};m.prototype.setPercent=function(a){this.setRightPercent(a,"setPercent()")},m.prototype.setRightPercent=function(a,b){if("number"!=typeof a)throw new Error((b||"setRightPercent()")+" expects a floating point number parameter! (a value from 0.0 to 1.0)");var c=~~(a*(this.maxValue-this.minValue)+this.minValue);this.rightValue=h(c,0,this.maxValue,!0),0!==this.step&&f(this),g(this),e(this)},m.prototype.setValue=function(a){this.setRightValue(a,"setValue()")},m.prototype.setRightValue=function(a,b){if("number"!=typeof a)throw new Error((b||"setRightValue()")+" expects a number parameter! (a value from "+this.minValue+" to "+this.maxValue+")");this.rightValue=h(a,this.minValue,this.maxValue,!0),0!==this.step&&f(this),g(this),e(this)},m.prototype.getValue=function(){return this.getRightValue()},m.prototype.getRightValue=function(){return this.rightValue},m.prototype.hide=function(){this.widget.style.visibility="hidden"},m.prototype.show=function(){this.widget.style.visibility="visible"},m.prototype.remove=function(){this.display("none")},m.prototype.display=function(a){var b=a||"block";this.widget.style.display=b},a.ValueSlider=m}(window);